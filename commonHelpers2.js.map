{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import debounce from 'debounce';\n\nconst form = document.querySelector('.feedback-form');\nconst LOCAL_FEEDBACK_KEY = 'feedback-form-state';\n\ntry {\n  const initialFormData =\n    JSON.parse(localStorage.getItem(LOCAL_FEEDBACK_KEY)) || {};\n\n  Array.from(form.elements).forEach(element => {\n    const storageValue = initialFormData[element.name];\n    if (storageValue) {\n      element.value = initialFormData[element.name];\n    }\n  });\n} catch (e) {\n  console.error('LOCAL STORAGE PARSE ERROR');\n}\n\nform.addEventListener(\n  'input',\n  debounce(() => {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n      formObject[key] = value;\n    });\n\n    localStorage.setItem(LOCAL_FEEDBACK_KEY, JSON.stringify(formObject));\n  }, 300)\n);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  console.log({\n    email: form.elements.email.value,\n    message: form.elements.value,\n  });\n\n  localStorage.removeItem(LOCAL_FEEDBACK_KEY);\n  form.reset();\n});\n"],"names":["form","LOCAL_FEEDBACK_KEY","initialFormData","element","debounce","formData","formObject","value","key","event"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAqB,sBAE3B,GAAI,CACF,MAAMC,EACJ,KAAK,MAAM,aAAa,QAAQD,CAAkB,CAAC,GAAK,GAE1D,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQG,GAAW,CACtBD,EAAgBC,EAAQ,QAE3CA,EAAQ,MAAQD,EAAgBC,EAAQ,MAE9C,CAAG,CACH,MAAE,CACA,QAAQ,MAAM,2BAA2B,CAC3C,CAEAH,EAAK,iBACH,QACAI,EAAS,IAAM,CACb,MAAMC,EAAW,IAAI,SAASL,CAAI,EAC5BM,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAWE,GAAOD,CACxB,CAAK,EAED,aAAa,QAAQN,EAAoB,KAAK,UAAUK,CAAU,CAAC,CACpE,EAAE,GAAG,CACR,EAEAN,EAAK,iBAAiB,SAAUS,GAAS,CACvCA,EAAM,eAAc,EAEpB,QAAQ,IAAI,CACV,MAAOT,EAAK,SAAS,MAAM,MAC3B,QAASA,EAAK,SAAS,KAC3B,CAAG,EAED,aAAa,WAAWC,CAAkB,EAC1CD,EAAK,MAAK,CACZ,CAAC"}